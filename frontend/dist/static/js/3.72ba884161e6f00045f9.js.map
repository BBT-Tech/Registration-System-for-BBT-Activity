{"version":3,"sources":["webpack:///src/components/ActivityDetailsMain.vue","webpack:///./src/components/ActivityDetailsMain.vue?a202","webpack:///./src/components/ActivityDetailsMain.vue","webpack:///src/components/ActivityDetailsDep.vue","webpack:///./src/components/ActivityDetailsDep.vue?cc89","webpack:///./src/components/ActivityDetailsDep.vue","webpack:///src/components/ActivityDetails.vue","webpack:///./src/components/ActivityDetails.vue?ddf2","webpack:///./src/components/ActivityDetails.vue","webpack:///./src/assets/img/arrow.png"],"names":["ActivityDetailsMain","name","props","data","registering","deleting","computed","regVDis","this","before","member","current_member","registered","regADis","award","mounted","_this","setTimeout","$emit","methods","register","vm","type","$parent","simplePost","$global","urls","unregister","id","getDetails","delActivity","confirm","delete","$root","$router","replace","editActivity","push","components_ActivityDetailsMain","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","src","imageSrc","image","on","load","$event","target","nextSibling","style","opacity","backgroundImage","_v","_s","title","details","action_time","book_time","_e","class","dis","click","staticRenderFns","src_components_ActivityDetailsMain","__webpack_require__","normalizeComponent","ssrContext","ActivityDetailsDep","components","loading","usedData","openedList","loadingList","userList","created","departmentList","forEach","_this2","foldSwitch","dep","_this3","$set","getUserInfo","$http","post","queryU","department","then","body","Object","err_code","promise_default","a","reject","err_msg","users","catch","String","alert","download","navigator","userAgent","match","location","href","components_ActivityDetailsDep","_l","current","index","key","member_list","opened","number","user","userIndex","student_id","tele","ActivityDetails","details-main","details-dep","ActivityDetailsDep_normalizeComponent","usedMeta","meta","currentQueryType","isActivityExist","timeBefore","depData","inited","watch","$route.params.id","beforeRouteLeave","to","from","next","$route","logined","queryTypes","value","back","flush","query","isManager","ActivityExist","fn","queryA","start_id","params","activities","Array","length","Number","compareDatetime","queryD","undefined","route","components_ActivityDetails","con-fade-in","con-fade-out","ActivityDetails_Component","ActivityDetails_normalizeComponent","__webpack_exports__","module","exports"],"mappings":"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","file":"static/js/3.72ba884161e6f00045f9.js","sourcesContent":["<template>\r\n  <div id=\"details-main\">\r\n    <div class=\"image\">\r\n      <img\r\n        v-bind:src=\"$global.urls.imageSrc(data.image)\"\r\n        v-on:load=\"$event.target.nextSibling.style.opacity = '1'\"\r\n      /><div v-bind:style=\"{backgroundImage: 'url(' + $global.urls.imageSrc(data.image) + ')'}\"></div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"title\">{{ data.title }}</div>\r\n      <div class=\"options\" v-if=\"data.type === 0\">\r\n        <div>类型：志愿者活动</div>\r\n        <div>详情：{{ data.details }}</div>\r\n        <div>报名截止时间：{{ data.action_time }}</div>\r\n        <div>已报名人数：{{ data.current_member }}/{{ data.member }}</div>\r\n        <div>状态：<span\r\n            v-if=\"data.registered\"\r\n          >已报名</span><span\r\n            v-else-if=\"!before\"\r\n          >活动已开始，不予报名</span><span\r\n            v-else-if=\"data.member === data.current_member\"\r\n          >报名人数已满</span><span\r\n            v-else\r\n          >可报名</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"options\" v-else-if=\"data.type === 1\">\r\n        <div>类型：福利活动</div>\r\n        <div>详情：{{ data.details }}</div>\r\n        <div>领取时间：{{ data.book_time }}</div>\r\n        <div>已领取人数：{{ data.current_member }}/{{ data.award }}</div>\r\n        <div>状态：<span\r\n            v-if=\"data.registered\"\r\n          >已领取</span><span\r\n            v-else-if=\"before\"\r\n          >领取时间未到</span><span\r\n            v-else-if=\"data.award === data.current_member\"\r\n          >奖品已被领完</span><span\r\n            v-else-if=\"data.is_department_full\"\r\n          >所在部门领取人数已满</span><span\r\n            v-else\r\n          >可领取</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"buttons\">\r\n        <div\r\n          class=\"button\"\r\n          v-bind:class=\"{'dis': regVDis}\"\r\n          v-if=\"data.type === 0\"\r\n          v-on:click=\"regVDis || register()\"\r\n        >\r\n          <div class=\"text reg\" v-if=\"!data.registered\">报名</div>\r\n          <div class=\"text del sml\" v-else>取消报名</div>\r\n        </div>\r\n        <div\r\n          class=\"button\"\r\n          v-bind:class=\"{'dis': regADis}\"\r\n          v-else-if=\"data.type === 1\"\r\n          v-on:click=\"regADis || register()\"\r\n        >\r\n          <div class=\"text reg\" v-if=\"!data.registered\">领取</div>\r\n          <div class=\"text del sml\" v-else>放弃</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"buttons\" v-if=\"data.is_publisher\">\r\n        <div\r\n          class=\"button\"\r\n          v-bind:class=\"{'dis': !before}\"\r\n          v-on:click=\"!before || editActivity()\"\r\n        >\r\n          <div class=\"text edit\">编辑</div>\r\n        </div>\r\n        <div\r\n          class=\"button\"\r\n          v-on:click=\"deleting || delActivity()\"\r\n          v-bind:class=\"{'dis': deleting}\"\r\n        >\r\n          <div class=\"text del\">删除</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'DetailsMain',\r\n  props: ['data', 'before'],\r\n  data () {\r\n    return {\r\n      registering: false,\r\n      deleting: false\r\n    }\r\n  },\r\n  computed: {\r\n    regVDis () {\r\n      return this.registering || !this.before ||\r\n        (this.data.member === this.data.current_member &&\r\n        !this.data.registered)\r\n    },\r\n    regADis () {\r\n      return this.registering || this.before ||\r\n        (this.data.award === this.data.current_member &&\r\n        !this.data.registered)\r\n    }\r\n  },\r\n  mounted () {\r\n    setTimeout(() => {\r\n      this.$emit('con-fade-in')\r\n    }, 100)\r\n  },\r\n  methods: {\r\n    register () {\r\n      var vm = this\r\n      if ((vm.data.type === 0 && !vm.before) ||\r\n        (vm.data.type === 1 && vm.before)) {\r\n        return\r\n      }\r\n      vm.registering = true\r\n      if (vm.data.registered) {\r\n        vm.$parent.simplePost(vm.$global.urls.unregister(vm.data.id), () => {\r\n          vm.$parent.getDetails(() => {\r\n            vm.registering = false\r\n          })\r\n        })\r\n      } else {\r\n        vm.$parent.simplePost(vm.$global.urls.register(vm.data.id), () => {\r\n          vm.$parent.getDetails(() => {\r\n            vm.registering = false\r\n          })\r\n        })\r\n      }\r\n    },\r\n    delActivity () {\r\n      if (confirm('确定删除这个活动？')) {\r\n        var vm = this\r\n        vm.deleting = true\r\n        vm.$parent.simplePost(vm.$global.urls.delete(vm.data.id), () => {\r\n          vm.$root.$router.replace('/activity')\r\n        })\r\n      }\r\n    },\r\n    editActivity () {\r\n      if (this.before) {\r\n        this.$root.$router.push('/activity/' + this.data.id + '/edit')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#details-main {\r\n  width: 100%;\r\n  padding-bottom: 0.001em;\r\n}\r\n.image {\r\n  background-color: #eee;\r\n  margin: auto;\r\n  margin-top: 0.6em;\r\n  margin-bottom: 0.6em;\r\n  width: 420px;\r\n  height: 236.25px;\r\n}\r\n.image > img {\r\n  display: none;\r\n}\r\n.image > div {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-position: center;\r\n  background-size: cover;\r\n  opacity: 0;\r\n  transition: opacity 0.8s;\r\n}\r\n@media screen and (max-width: 420px) {\r\n  .image {\r\n    width: 100%;\r\n    height: 56.25vw;\r\n  }\r\n}\r\n.content {\r\n  margin: 0 0.96em;\r\n}\r\n.title {\r\n  font-size: 0.7em;\r\n  font-weight: bold;\r\n  color: #fff;\r\n  line-height: 1em;\r\n  margin-bottom: 0.17143em;\r\n}\r\n.options > div {\r\n  font-size: 0.47em;\r\n  color: #fff;\r\n  line-height: 1.6383em;\r\n  margin: 0.06494em 0;\r\n}\r\n.buttons {\r\n  width: 100%;\r\n  height: 0.86em;\r\n  clear: both;\r\n  margin: 0.4em 0 0.6em 0;\r\n}\r\n.button {\r\n  cursor: default;\r\n  float: left;\r\n  width: 2.66em;\r\n  height: 0.86em;\r\n  margin-right: 0.6em;\r\n  margin-left: 0;\r\n  border-radius: 0.25em;\r\n  box-shadow: 0.05em 0.05em 0.05em rgba(0, 0, 0, 0.3);\r\n  background-color: #fff;\r\n  position: relative;\r\n}\r\n.button.dis {\r\n  background-color: #dcdcdc;\r\n}\r\n.button > .text {\r\n  position: absolute;\r\n  font-size: 0.58em;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.button > .reg {\r\n  color: #a1de93;\r\n}\r\n.button > .del {\r\n  color: #ce938f;\r\n}\r\n.button > .edit {\r\n  color: #6c6c6c;\r\n}\r\n.button > .sml {\r\n  font-size: 0.53em;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ActivityDetailsMain.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"details-main\"}},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":_vm.$global.urls.imageSrc(_vm.data.image)},on:{\"load\":function($event){$event.target.nextSibling.style.opacity = '1'}}}),_c('div',{style:({backgroundImage: 'url(' + _vm.$global.urls.imageSrc(_vm.data.image) + ')'})})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.data.title))]),_vm._v(\" \"),(_vm.data.type === 0)?_c('div',{staticClass:\"options\"},[_c('div',[_vm._v(\"类型：志愿者活动\")]),_vm._v(\" \"),_c('div',[_vm._v(\"详情：\"+_vm._s(_vm.data.details))]),_vm._v(\" \"),_c('div',[_vm._v(\"报名截止时间：\"+_vm._s(_vm.data.action_time))]),_vm._v(\" \"),_c('div',[_vm._v(\"已报名人数：\"+_vm._s(_vm.data.current_member)+\"/\"+_vm._s(_vm.data.member))]),_vm._v(\" \"),_c('div',[_vm._v(\"状态：\"),(_vm.data.registered)?_c('span',[_vm._v(\"已报名\")]):(!_vm.before)?_c('span',[_vm._v(\"活动已开始，不予报名\")]):(_vm.data.member === _vm.data.current_member)?_c('span',[_vm._v(\"报名人数已满\")]):_c('span',[_vm._v(\"可报名\")])])]):(_vm.data.type === 1)?_c('div',{staticClass:\"options\"},[_c('div',[_vm._v(\"类型：福利活动\")]),_vm._v(\" \"),_c('div',[_vm._v(\"详情：\"+_vm._s(_vm.data.details))]),_vm._v(\" \"),_c('div',[_vm._v(\"领取时间：\"+_vm._s(_vm.data.book_time))]),_vm._v(\" \"),_c('div',[_vm._v(\"已领取人数：\"+_vm._s(_vm.data.current_member)+\"/\"+_vm._s(_vm.data.award))]),_vm._v(\" \"),_c('div',[_vm._v(\"状态：\"),(_vm.data.registered)?_c('span',[_vm._v(\"已领取\")]):(_vm.before)?_c('span',[_vm._v(\"领取时间未到\")]):(_vm.data.award === _vm.data.current_member)?_c('span',[_vm._v(\"奖品已被领完\")]):(_vm.data.is_department_full)?_c('span',[_vm._v(\"所在部门领取人数已满\")]):_c('span',[_vm._v(\"可领取\")])])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"buttons\"},[(_vm.data.type === 0)?_c('div',{staticClass:\"button\",class:{'dis': _vm.regVDis},on:{\"click\":function($event){_vm.regVDis || _vm.register()}}},[(!_vm.data.registered)?_c('div',{staticClass:\"text reg\"},[_vm._v(\"报名\")]):_c('div',{staticClass:\"text del sml\"},[_vm._v(\"取消报名\")])]):(_vm.data.type === 1)?_c('div',{staticClass:\"button\",class:{'dis': _vm.regADis},on:{\"click\":function($event){_vm.regADis || _vm.register()}}},[(!_vm.data.registered)?_c('div',{staticClass:\"text reg\"},[_vm._v(\"领取\")]):_c('div',{staticClass:\"text del sml\"},[_vm._v(\"放弃\")])]):_vm._e()]),_vm._v(\" \"),(_vm.data.is_publisher)?_c('div',{staticClass:\"buttons\"},[_c('div',{staticClass:\"button\",class:{'dis': !_vm.before},on:{\"click\":function($event){!_vm.before || _vm.editActivity()}}},[_c('div',{staticClass:\"text edit\"},[_vm._v(\"编辑\")])]),_vm._v(\" \"),_c('div',{staticClass:\"button\",class:{'dis': _vm.deleting},on:{\"click\":function($event){_vm.deleting || _vm.delActivity()}}},[_c('div',{staticClass:\"text del\"},[_vm._v(\"删除\")])])]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-622c7e73\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ActivityDetailsMain.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-622c7e73\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ActivityDetailsMain.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityDetailsMain.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityDetailsMain.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-622c7e73\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ActivityDetailsMain.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-622c7e73\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ActivityDetailsMain.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div class=\"content\">\r\n      <div class=\"button-export\" v-on:click=\"download\">\r\n        <div>导出参与用户信息</div>\r\n      </div>\r\n      <div\r\n        class=\"dep-part\"\r\n        v-for=\"(current, index) in data.current_member_list\"\r\n        v-bind:key=\"'dep' + index\"\r\n      >\r\n        <div class=\"dep\">\r\n          <div\r\n            class=\"text\"\r\n            v-if=\"data.type === 0\"\r\n          >{{ $global.departmentList[index] }}：{{ current }}</div><div\r\n            class=\"text\"\r\n            v-else-if=\"data.type === 1\"\r\n          >{{ $global.departmentList[index] }}：{{ current }}/{{ data.member_list[index] }}</div><div\r\n            v-if=\"current !== 0\"\r\n            class=\"dep-button\"\r\n            v-on:click=\"foldSwitch(index)\"\r\n          ><img src=\"@/assets/img/arrow.png\" v-bind:class=\"{'opened': openedList[index]}\"/></div>\r\n        </div>\r\n        <div v-if=\"openedList[index]\">\r\n          <div v-if=\"!loadingList[index]\">\r\n            <div\r\n              class=\"info\"\r\n              v-for=\"(user, userIndex) in userList[index]\"\r\n              v-bind:key=\"index + 'user' + userIndex\"\r\n            >\r\n              <div class=\"text\">姓名：{{ user.name }}</div>\r\n              <div class=\"text\">学号：{{ user.student_id }}</div>\r\n              <div class=\"text\">手机：{{ user.tele }}</div>\r\n            </div>\r\n          </div>\r\n          <div v-else>\r\n            <div class=\"info loading\">\r\n              <div class=\"loading-box\">\r\n                <loading number=\"3\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from './Loading.vue'\r\nexport default {\r\n  name: 'DetailsDep',\r\n  props: ['data'],\r\n  components: {'loading': Loading},\r\n  data () {\r\n    return {\r\n      usedData: this.data,\r\n      loading: true,\r\n      openedList: [],\r\n      loadingList: [],\r\n      userList: []\r\n    }\r\n  },\r\n  created () {\r\n    this.$global.departmentList.forEach(() => {\r\n      this.openedList.push(false)\r\n      this.userList.push([])\r\n      this.loadingList.push(false)\r\n    })\r\n  },\r\n  mounted () {\r\n    setTimeout(() => {\r\n      this.$emit('con-fade-in')\r\n    }, 100)\r\n  },\r\n  methods: {\r\n    foldSwitch (dep) {\r\n      if (this.openedList[dep]) {\r\n        this.$set(this.openedList, dep, false)\r\n      } else {\r\n        this.$set(this.loadingList, dep, true)\r\n        this.$set(this.openedList, dep, true)\r\n        setTimeout(() => {\r\n          this.getUserInfo(dep)\r\n        }, 100)\r\n      }\r\n    },\r\n    getUserInfo (dep) {\r\n      var vm = this\r\n      vm.$http.post(vm.$global.urls.queryU(vm.data.id), {\r\n        department: dep\r\n      }).then(data => {\r\n        data = data.body\r\n        if (!(data instanceof Object)) {\r\n          return Promise.reject('服务器发生错误')\r\n        } else if (data.err_code) {\r\n          return Promise.reject(data.err_msg)\r\n        } else {\r\n          vm.$set(vm.userList, dep, data.data.users)\r\n          vm.$set(vm.loadingList, dep, false)\r\n        }\r\n      }).catch(data => {\r\n        if (data instanceof String) {\r\n          alert(data)\r\n        } else {\r\n          alert('404！该服务暂时不可用')\r\n        }\r\n        vm.$set(vm.openedList, dep, false)\r\n        vm.$set(vm.loadingList, dep, false)\r\n      })\r\n    },\r\n    download () {\r\n      if (navigator.userAgent.match(/MicroMessenger/i) !== null) {\r\n        alert('微信自带浏览器不支持该文件下载，请点击右上方按钮切换到其他浏览器进行操作')\r\n      } else {\r\n        location.href = this.$global.urls.download(this.data.id)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n  margin: 0 0.96em;\r\n}\r\n.button-export {\r\n  display: block;\r\n  cursor: default;\r\n  margin: 0.4em 0;\r\n  width: 5.2em;\r\n  height: 0.92em;\r\n  border-radius: 0.25em;\r\n  box-shadow: 0.05em 0.05em 0.05em rgba(0, 0, 0, 0.3);\r\n  background-color: #fff;\r\n  position: relative;\r\n}\r\n.button-export > div {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  transform: translateY(-50%);\r\n  color: #a1de93;\r\n  font-size: 0.6em;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n.dep-part {\r\n  margin-bottom: 0.6em;\r\n}\r\n.dep {\r\n  height: 0.6em;\r\n}\r\n.dep > .text {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  font-size: 0.6em;\r\n  margin-right: 1em;\r\n  height: 1em;\r\n  line-height: 1em;\r\n  font-weight: bold;\r\n  color: #fff;\r\n}\r\n.dep-button {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  height: 0.6em;\r\n  width: 0.6em;\r\n  border-radius: 0.05em;\r\n  background-color: #fff;\r\n  position: relative;\r\n  box-shadow: 0.05em 0.05em 0.05em rgba(0, 0, 0, 0.3);\r\n}\r\n.dep-button > img {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  height: 0.27em;\r\n  width: 0.47em;\r\n  transform: translate(-50%, -50%);\r\n  transition: transform 0.2s;\r\n}\r\n.dep-button > img.opened {\r\n  transform: translate(-50%, -50%) rotate(180deg);\r\n}\r\n.info {\r\n  margin-top: 0.15em;\r\n  padding: 0.15em 0;\r\n  width: 100%;\r\n  background-color: rgba(49, 49, 49, 0.4);\r\n  border-radius: 0.05em;\r\n  position: relative;\r\n}\r\n.info.loading {\r\n  height: 1.75em;\r\n}\r\n.info > .text {\r\n  font-size: 0.45em;\r\n  margin: 0 0.33333em 0.33333em;\r\n  height: 1em;\r\n  line-height: 1em;\r\n  color: #fff;\r\n}\r\n.info > .text:last-of-type {\r\n  margin-bottom: 0;\r\n}\r\n.loading-box {\r\n  position: absolute;\r\n  height: 0.4em;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ActivityDetailsDep.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"button-export\",on:{\"click\":_vm.download}},[_c('div',[_vm._v(\"导出参与用户信息\")])]),_vm._v(\" \"),_vm._l((_vm.data.current_member_list),function(current,index){return _c('div',{key:'dep' + index,staticClass:\"dep-part\"},[_c('div',{staticClass:\"dep\"},[(_vm.data.type === 0)?_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.$global.departmentList[index])+\"：\"+_vm._s(current))]):(_vm.data.type === 1)?_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.$global.departmentList[index])+\"：\"+_vm._s(current)+\"/\"+_vm._s(_vm.data.member_list[index]))]):_vm._e(),(current !== 0)?_c('div',{staticClass:\"dep-button\",on:{\"click\":function($event){_vm.foldSwitch(index)}}},[_c('img',{class:{'opened': _vm.openedList[index]},attrs:{\"src\":require(\"@/assets/img/arrow.png\")}})]):_vm._e()]),_vm._v(\" \"),(_vm.openedList[index])?_c('div',[(!_vm.loadingList[index])?_c('div',_vm._l((_vm.userList[index]),function(user,userIndex){return _c('div',{key:index + 'user' + userIndex,staticClass:\"info\"},[_c('div',{staticClass:\"text\"},[_vm._v(\"姓名：\"+_vm._s(user.name))]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(\"学号：\"+_vm._s(user.student_id))]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(\"手机：\"+_vm._s(user.tele))])])})):_c('div',[_c('div',{staticClass:\"info loading\"},[_c('div',{staticClass:\"loading-box\"},[_c('loading',{attrs:{\"number\":\"3\"}})],1)])])]):_vm._e()])})],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-470c229a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ActivityDetailsDep.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-470c229a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ActivityDetailsDep.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityDetailsDep.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityDetailsDep.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-470c229a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ActivityDetailsDep.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-470c229a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ActivityDetailsDep.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div class=\"center-tips\" v-if=\"!isActivityExist\">\r\n      <div>这个活动逃离了地球</div>\r\n    </div>\r\n    <details-main\r\n      v-else-if=\"currentQueryType === 0 && inited\"\r\n      v-bind:data=\"data\"\r\n      v-bind:before=\"timeBefore\"\r\n      v-on:con-fade-in=\"$emit('con-fade-in')\"\r\n      v-on:con-fade-out=\"$emit('con-fade-out')\"\r\n    />\r\n    <details-dep\r\n      v-else-if=\"currentQueryType === 1 && inited\"\r\n      v-bind:data=\"depData\"\r\n      v-on:con-fade-in=\"$emit('con-fade-in')\"\r\n      v-on:con-fade-out=\"$emit('con-fade-out')\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailsMain from './ActivityDetailsMain.vue'\r\nimport DetailsDep from './ActivityDetailsDep.vue'\r\nexport default {\r\n  name: 'ActivityDetails',\r\n  components: {\r\n    'details-main': DetailsMain,\r\n    'details-dep': DetailsDep\r\n  },\r\n  props: ['meta'],\r\n  data () {\r\n    return {\r\n      usedMeta: this.meta,\r\n      currentQueryType: 0,\r\n      isActivityExist: true,\r\n      timeBefore: false,\r\n      data: {},\r\n      depData: {},\r\n      inited: false\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.params.id' () {\r\n      this.$emit('con-fade-out')\r\n      this.getDetails()\r\n    }\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    if (to.name === 'Login') {\r\n      next(false)\r\n    } else {\r\n      this.$emit('con-fade-out')\r\n      setTimeout(() => {\r\n        next()\r\n      }, 100)\r\n    }\r\n  },\r\n  created () {\r\n    if (this.$route.meta.logined) {\r\n      this.getDetails()\r\n      setTimeout(() => {\r\n        this.usedMeta.queryTypes = ['活动详情']\r\n        this.usedMeta.value = 0\r\n        this.usedMeta.back = this.back\r\n        this.usedMeta.flush = this.query\r\n        if (this.$route.meta.isManager) {\r\n          this.usedMeta.queryTypes.push('各部门情况')\r\n        }\r\n      }, 100)\r\n      setTimeout(() => {\r\n        this.$emit('nav-fade-in')\r\n      }, 200)\r\n    }\r\n  },\r\n  methods: {\r\n    back () {\r\n      this.$root.$router.push('/activity')\r\n    },\r\n    query (type) {\r\n      this.currentQueryType = type\r\n      if (!this.ActivityExist) {\r\n        setTimeout(() => {\r\n          this.$emit('con-fade-in')\r\n        }, 100)\r\n      }\r\n    },\r\n    getDetails (fn) {\r\n      var vm = this\r\n      vm.$http.post(vm.$global.urls.queryA(), {\r\n        type: 0,\r\n        start_id: vm.$route.params.id,\r\n        number: 1\r\n      }).then(data => {\r\n        data = data.body\r\n        if (!(data instanceof Object)) {\r\n          return Promise.reject('服务器发生错误')\r\n        } else if (data.err_code) {\r\n          return Promise.reject(data.err_msg)\r\n        } else {\r\n          data = data.data\r\n          vm.isActivityExist = data.activities instanceof Array &&\r\n            data.activities.length === 1 &&\r\n            data.activities[0].id === Number(vm.$route.params.id)\r\n          if (vm.isActivityExist) {\r\n            vm.data = data.activities[0]\r\n            if (vm.data.type === 0) {\r\n              vm.timeBefore = vm.$global.compareDatetime(vm.data.action_time) > 0\r\n            } else if (vm.data.type === 1) {\r\n              vm.timeBefore = vm.$global.compareDatetime(vm.data.book_time) > 0\r\n            }\r\n            if (vm.$route.meta.isManager) {\r\n              return vm.$http.post(vm.$global.urls.queryD(vm.$route.params.id))\r\n            }\r\n          } else {\r\n            vm.data = {}\r\n          }\r\n        }\r\n        return Promise.reject(0)\r\n      }).then(data => {\r\n        data = data.body\r\n        if (!(data instanceof Object)) {\r\n          return Promise.reject('服务器发生错误')\r\n        } else if (data.err_code) {\r\n          return Promise.reject(data.err_msg)\r\n        } else {\r\n          vm.depData = data.data\r\n          vm.$set(vm.depData, 'type', vm.data.type)\r\n          vm.$set(vm.depData, 'id', vm.data.id)\r\n        }\r\n        return Promise.reject(0)\r\n      }).catch(data => {\r\n        if (fn !== undefined) {\r\n          fn()\r\n        }\r\n        if (data === 0) {\r\n          setTimeout(() => {\r\n            vm.$emit('con-fade-in')\r\n          }, 100)\r\n          vm.inited = true\r\n        } else if (data instanceof String) {\r\n          alert(data)\r\n        } else {\r\n          alert('404！该服务暂时不可用')\r\n        }\r\n      })\r\n    },\r\n    simplePost (route, fn) {\r\n      var vm = this\r\n      vm.$http.post(route).then(data => {\r\n        data = data.body\r\n        if (!(data instanceof Object)) {\r\n          alert('服务器发生错误')\r\n        } else if (data.err_code) {\r\n          alert(data.err_msg)\r\n        }\r\n        if (fn !== undefined) {\r\n          fn()\r\n        }\r\n      }).catch(data => {\r\n        alert('404！该服务暂时不可用')\r\n        if (fn !== undefined) {\r\n          fn()\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import '../assets/css/CenterTips.css';\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ActivityDetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.isActivityExist)?_c('div',{staticClass:\"center-tips\"},[_c('div',[_vm._v(\"这个活动逃离了地球\")])]):(_vm.currentQueryType === 0 && _vm.inited)?_c('details-main',{attrs:{\"data\":_vm.data,\"before\":_vm.timeBefore},on:{\"con-fade-in\":function($event){_vm.$emit('con-fade-in')},\"con-fade-out\":function($event){_vm.$emit('con-fade-out')}}}):(_vm.currentQueryType === 1 && _vm.inited)?_c('details-dep',{attrs:{\"data\":_vm.depData},on:{\"con-fade-in\":function($event){_vm.$emit('con-fade-in')},\"con-fade-out\":function($event){_vm.$emit('con-fade-out')}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ddc353f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ActivityDetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ddc353f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ActivityDetails.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityDetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ddc353f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ActivityDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0ddc353f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ActivityDetails.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAbCAYAAADszNYXAAAEtUlEQVRYhcWX3YtW1xWHn9/a+5z3Q1GxKbWN0NI/IBe5y3UIBEqJH6BF1E6Qkl72MonvODrO2PQvMLEFUbQqOBhICyEgvQzkIkJuvAplQB2ntUnMTOa8zjlnr1y8b2w7+n7MOCG/q8PZa+397LU/1l56b/FddpZNco8H/tW9vy+3/DmZfQqc9eT/TKrpVgV7dh9mV2s3H/MZ95mjoknxxY/Z+eBrVrZnpIZRdZ1Q5shXqZJT5U3iapdowpVTZ6vEprBHifbDki+e20Zr57+JdNnFfl7iBe4Xd3j/ziWaoYXJQPwSt9+7pxdLX33wk8ZPb6xSXnvIV8TkNSvl8rvLdfVGIzRxHHd/GfgDYi/O3/nBpF/h3ADPJNFQk/88enAwhPBqCvXr9nz60a+7VfGGzHD8fz0z4G/Aaz8MOK/1x8++++E4MlFUKxO7ws/2Wnd1+Vi0iNCgTt4H9rTDlscdfB/6rt/+OHv64z4hIaJlFNXKby0ouvtgIMmovLpxp5jfBxCImz4BxwlEAO4U8/sqr25INtjeHcPcsjw7m6gHwyPacSs3Fz+Yu7c0v38bOxCDO96IhLGNHdxbmt9/c/GDuXbcOmwnkKjJ8/ysLaSFj9pxy+ywYOaW0wwtPrw7d/320q0DO9iONin6wtnBdm4v3Trw4d25683QIrd8sINDO26ZXUgLH1luDSpPnSTeGWSfPNEKbTyDxbufX6uWqoMiMiQ445IjItVSdXDx7ufXPINWaJM8DXRJ4p3KUye3Rm+jqffzLXdc8NagCWQhJ7qzeC+7+ugXudp5urpRfgFZnvjq0dbfFPdWr7SjoRCGgjv80cXb1vvun5J+C/K3Bcldxwd5WxS1MtICV2IszTP+uhF4zyB+WR5KlS7XMcOCM+TeQPJZhw6uxyu+5uQJyTuSnxk4qIOC06gTReGXv5EdiesMfxR8IztSFH65USc0GvyM5J21+/Sp14bkx4HZgb15z9MjrNTxYlnaUdl4B1jmlKUdXanjRY99guGus32eJ/R0+F4u6yS3maEggBl0C79QdtNRC8PBLUDZTUe7hV8wG33ek9uMo86gm23ohe2uSXedHmYjQAbVsi6kQhMMmkCAVGiiWtYFjQHurtPumhxmMzLbuHTC0fRQI4Eh6jKdTykd0xoyCVJKx+oynTc0ktzRtEsnRrHFUQYAbpoiIeGDIyGQRFVWfxHJFOzPADJRV+l3FdU52eiT7eh0f7yRGi/Pe38FpFOjTAVUrnMJTRhOQhOV69w4F5JLp1w6MW7yHivyj2WcdMeVODnUTsJrP08qX3H3Q6zdR0+RGycRp8aJ+H9x1ivTKeRTY0UnpUMjbXrJcQobvapPoKzXoffO9GmjnhptOjriRj0lfHojD6UNvm17ExBpaqNvSwdE2jA4bBi+V0CYmA5mk+udgAPBbNLE9LMUNs9UVfQhZsxsclwIxzGzyWA286wVwTOXRO5OlM0ErDMKxoGAdaJsZljpOa42pZ5znCDNBuc4LrSGSw64CM7xIM1uVg28acVor4jWGYX0ZrL/ayAZKKQ3AzqzmcX7+pLUCFktVrdWf0quT1pL2eHa0s/Nbb7bKi8F+T/yhw3qMZ/O4+hbyuAWosD/gOcAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/arrow.png\n// module id = qNF3\n// module chunks = 3"],"sourceRoot":""}