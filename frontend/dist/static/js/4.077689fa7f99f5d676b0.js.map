{"version":3,"sources":["webpack:///src/components/ActivityCreator.vue","webpack:///./src/components/ActivityCreator.vue?85df","webpack:///./src/components/ActivityCreator.vue"],"names":["ActivityCreator","name","components","input-tips","data","type","title","details","time","number","inputType","same","numberList","loading","watch","vm","this","forEach","value","index","$set","computed","isTitleValid","isDetailsValid","isTimeValid","$root","compareDatetime","isNumberValid","isSameValid","isSumValid","sum","isValid","beforeCreate","logined","$router","replace","isManager","methods","addActivity","url","send","action_time","inputToDatetime","member","book_time","award","member_list","$http","post","then","body","Object","err_code","alert","err_msg","push","id","catch","components_ActivityCreator","render","_vm","_h","$createElement","_c","_self","on","click","$event","_v","directives","rawName","expression","modifiers","change","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","_n","multiple","attrs","err-when","model","callback","$$v","slot","_e","_l","j","i","key","_s","departmentList","staticClass","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.077689fa7f99f5d676b0.js","sourcesContent":["<template>\n  <div>\n    <button v-on:click=\"$root.$router.push('/activity')\">返回</button>\n    <br/>\n    活动类型：<select v-model.number=\"type\">\n      <option value=\"0\">志愿者活动</option>\n      <option value=\"1\">福利活动</option>\n    </select>\n    <div v-if=\"type === 0 || type === 1\">\n      <input-tips v-model=\"title\" v-bind:err-when=\"!isTitleValid\">\n        <span slot=\"title\">标题：</span>\n        <span slot=\"tips\">标题不能为空</span>\n      </input-tips>\n      <input-tips v-model=\"details\" v-bind:err-when=\"!isDetailsValid\">\n        <span slot=\"title\">详情：</span>\n        <span slot=\"tips\">详情不能为空</span>\n      </input-tips>\n      <input-tips type=\"datetime-local\" v-model=\"time\" v-bind:err-when=\"!isTimeValid\">\n        <span slot=\"title\" v-if=\"type === 0\">志愿开始时间：</span>\n        <span slot=\"title\" v-else-if=\"type === 1\">福利领取时间：</span>\n        <span slot=\"tips\" v-if=\"time === ''\">时间信息不全</span>\n        <span slot=\"tips\" v-else>时间必须晚于当前</span>\n      </input-tips>\n      <input-tips type=\"number\" v-model.number=\"number\" v-bind:err-when=\"!isNumberValid\">\n        <span slot=\"title\" v-if=\"type === 0\">限制人数：</span>\n        <span slot=\"title\" v-else-if=\"type === 1\">奖品总数：</span>\n        <span slot=\"tips\">数量格式不正确</span>\n      </input-tips>\n      <div v-if=\"type === 1\">\n        各部门人数限制：<select v-model.number=\"inputType\">\n          <option value=\"1\">各部门相同</option>\n          <option value=\"2\">自定义</option>\n        </select>\n        <div v-if=\"inputType === 1\">\n          <input-tips type=\"number\" v-model.number=\"same\" v-bind:err-when=\"!isSameValid\">\n            <span slot=\"title\">所有部门：</span>\n            <span slot=\"tips\">数量格式不正确</span>\n          </input-tips>\n        </div>\n        <div v-else-if=\"inputType === 2\">\n          <div v-for=\"(j, i) in numberList\" v-bind:key=\"'inputList' + i\">\n            <input-tips\n              type=\"number\"\n              v-model.number=\"numberList[i]\"\n              v-bind:err-when=\"numberList[i] === '' ||\n                numberList[i] < 0 ||\n                numberList[i] % 1 !== 0\"\n            >\n              <span slot=\"title\">{{ $root.departmentList[i] }}：</span>\n              <span slot=\"tips\">数量格式不正确</span>\n            </input-tips>\n          </div>\n        </div>\n        <div class=\"error\" v-if=\"isNumberValid && !isSumValid\">限制总人数不小于奖品数</div>\n      </div>\n    </div>\n    <button\n      v-if=\"isValid && !loading\"\n      v-on:click=\"addActivity\"\n    >添加活动</button>\n    <div v-if=\"loading\">Loading...</div>\n  </div>\n</template>\n\n<script>\nimport InputTips from './InputTips.vue'\nexport default {\n  name: 'ActivityCreator',\n  components: {'input-tips': InputTips},\n  data () {\n    return {\n      type: -1,\n      title: '',\n      details: '',\n      time: '',\n      number: 0,\n      inputType: 1,\n      same: 0,\n      numberList: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      loading: false\n    }\n  },\n  watch: {\n    same () {\n      var vm = this\n      vm.numberList.forEach((value, index) => {\n        vm.$set(vm.numberList, index, vm.same)\n      })\n    },\n    inputType () {\n      var vm = this\n      if (vm.inputType === 1) {\n        vm.same = vm.numberList[0]\n      }\n    }\n  },\n  computed: {\n    isTitleValid () {\n      return this.title !== ''\n    },\n    isDetailsValid () {\n      return this.details !== ''\n    },\n    isTimeValid () {\n      return this.time !== '' &&\n        this.$root.compareDatetime(this.time + ':00') > 0\n    },\n    isNumberValid () {\n      return this.number !== '' &&\n        this.number > 0 &&\n        this.number % 1 === 0\n    },\n    isSameValid () {\n      return this.same >= 0 &&\n        this.same % 1 === 0\n    },\n    isSumValid () {\n      var sum = 0\n      if (this.inputType === 1) {\n        sum = this.same * 10\n      } else if (this.inputType === 2) {\n        this.numberList.forEach(value => {\n          if (value !== '') {\n            sum += value\n          }\n        })\n      }\n      return this.isNumberValid && sum >= this.number\n    },\n    isValid () {\n      var isValid = this.isTitleValid && this.isDetailsValid && this.isTimeValid && this.isNumberValid\n      if (!isValid) {\n        return isValid\n      }\n      if (this.type === 0) {\n        return isValid\n      } else if (this.type === 1) {\n        return isValid && this.isSumValid\n      }\n    }\n  },\n  beforeCreate () {\n    if (!this.$root.logined) {\n      this.$root.$router.replace('/login')\n    }\n    if (!this.$root.isManager) {\n      this.$root.$router.replace('/activity')\n    }\n  },\n  methods: {\n    addActivity () {\n      var vm = this\n      var url, send\n      vm.loading = true\n      if (vm.type === 0) {\n        url = '/api/manager/publish/volunteer'\n        send = {\n          title: vm.title,\n          details: vm.details,\n          action_time: vm.$root.inputToDatetime(vm.time),\n          member: vm.number\n        }\n      } else if (vm.type === 1) {\n        url = '/api/manager/publish/award'\n        send = {\n          title: vm.title,\n          details: vm.details,\n          book_time: vm.$root.inputToDatetime(vm.time),\n          award: vm.number,\n          member_list: vm.numberList\n        }\n      }\n      vm.$http.post(url, send).then(data => {\n        data = data.body\n        if (!(data instanceof Object)) {\n          alert('服务器发生错误')\n        } else if (data.err_code) {\n          alert(data.err_msg)\n        } else {\n          vm.$root.$router.push('/activity/' + data.id)\n        }\n        vm.loading = false\n      }).catch(data => {\n        alert('404！该服务暂时不可用')\n        vm.loading = false\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.error {\n  color: #ff0000\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ActivityCreator.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{on:{\"click\":function($event){_vm.$root.$router.push('/activity')}}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('br'),_vm._v(\"\\n  活动类型：\"),_c('select',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.type),expression:\"type\",modifiers:{\"number\":true}}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return _vm._n(val)}); _vm.type=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(\"志愿者活动\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"福利活动\")])]),_vm._v(\" \"),(_vm.type === 0 || _vm.type === 1)?_c('div',[_c('input-tips',{attrs:{\"err-when\":!_vm.isTitleValid},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"标题：\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"tips\"},slot:\"tips\"},[_vm._v(\"标题不能为空\")])]),_vm._v(\" \"),_c('input-tips',{attrs:{\"err-when\":!_vm.isDetailsValid},model:{value:(_vm.details),callback:function ($$v) {_vm.details=$$v},expression:\"details\"}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"详情：\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"tips\"},slot:\"tips\"},[_vm._v(\"详情不能为空\")])]),_vm._v(\" \"),_c('input-tips',{attrs:{\"type\":\"datetime-local\",\"err-when\":!_vm.isTimeValid},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}},[(_vm.type === 0)?_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"志愿开始时间：\")]):(_vm.type === 1)?_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"福利领取时间：\")]):_vm._e(),_vm._v(\" \"),(_vm.time === '')?_c('span',{attrs:{\"slot\":\"tips\"},slot:\"tips\"},[_vm._v(\"时间信息不全\")]):_c('span',{attrs:{\"slot\":\"tips\"},slot:\"tips\"},[_vm._v(\"时间必须晚于当前\")])]),_vm._v(\" \"),_c('input-tips',{attrs:{\"type\":\"number\",\"err-when\":!_vm.isNumberValid},model:{value:(_vm.number),callback:function ($$v) {_vm.number=_vm._n($$v)},expression:\"number\"}},[(_vm.type === 0)?_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"限制人数：\")]):(_vm.type === 1)?_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"奖品总数：\")]):_vm._e(),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"tips\"},slot:\"tips\"},[_vm._v(\"数量格式不正确\")])]),_vm._v(\" \"),(_vm.type === 1)?_c('div',[_vm._v(\"\\n      各部门人数限制：\"),_c('select',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.inputType),expression:\"inputType\",modifiers:{\"number\":true}}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return _vm._n(val)}); _vm.inputType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"各部门相同\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"自定义\")])]),_vm._v(\" \"),(_vm.inputType === 1)?_c('div',[_c('input-tips',{attrs:{\"type\":\"number\",\"err-when\":!_vm.isSameValid},model:{value:(_vm.same),callback:function ($$v) {_vm.same=_vm._n($$v)},expression:\"same\"}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"所有部门：\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"tips\"},slot:\"tips\"},[_vm._v(\"数量格式不正确\")])])],1):(_vm.inputType === 2)?_c('div',_vm._l((_vm.numberList),function(j,i){return _c('div',{key:'inputList' + i},[_c('input-tips',{attrs:{\"type\":\"number\",\"err-when\":_vm.numberList[i] === '' ||\n              _vm.numberList[i] < 0 ||\n              _vm.numberList[i] % 1 !== 0},model:{value:(_vm.numberList[i]),callback:function ($$v) {_vm.$set(_vm.numberList, i, _vm._n($$v))},expression:\"numberList[i]\"}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.$root.departmentList[i])+\"：\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"tips\"},slot:\"tips\"},[_vm._v(\"数量格式不正确\")])])],1)})):_vm._e(),_vm._v(\" \"),(_vm.isNumberValid && !_vm.isSumValid)?_c('div',{staticClass:\"error\"},[_vm._v(\"限制总人数不小于奖品数\")]):_vm._e()]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.isValid && !_vm.loading)?_c('button',{on:{\"click\":_vm.addActivity}},[_vm._v(\"添加活动\")]):_vm._e(),_vm._v(\" \"),(_vm.loading)?_c('div',[_vm._v(\"Loading...\")]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e4a05f1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ActivityCreator.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e4a05f1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ActivityCreator.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityCreator.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityCreator.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e4a05f1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ActivityCreator.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e4a05f1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ActivityCreator.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}