{"version":3,"sources":["webpack:///./src/router/index.js","webpack:///./src/global.js","webpack:///src/App.vue","webpack:///./src/App.vue?60e3","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["vue_esm","use","vue_router_esm","Meta","logined","studengId","name","isManager","router","routes","path","component","__webpack_require__","e","then","bind","meta","Promise","all","children","redirect","global","departmentList","urls","front","add","str","this","init","login","signout","publishV","publishA","image","id","queryA","queryD","queryU","download","register","unregister","editV","editA","delete","imageSrc","shortSrc","getCookie","pattern","RegExp","document","cookie","replace","removeCookie","now","Date","setTime","getTime","toUTCString","compareDatetime","datetime","comparison","slice","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","i","Number","datetimeToInput","inputToDatetime","input","App","data","appWidth","undefined","loading","created","flushSize","window","addEventListener","methods","width","body","clientWidth","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","class","show","style","fontSize","on","main-fade-in","$event","main-fade-out","staticRenderFns","isChecked","src_App","normalizeComponent","ssrContext","vue_resource_esm","config","productionTip","prototype","$global","beforeEach","to","from","next","http","post","Object","promise_default","a","reject","err_code","err_msg","studentId","student_id","is_manager","fullPath","search","type","start_id","params","number","activities","Array","length","activity","timeAccess","action_time","book_time","is_publisher","catch","alert","el","components","template"],"mappings":"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","file":"static/js/app.84528fe94bbac7ea876f.js","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nconst Login = () => import('@/components/Login')\nconst Activity = () => import('@/components/Activity')\nconst ActivityHome = () => import('@/components/ActivityHome')\nconst ActivityDetails = () => import('@/components/ActivityDetails')\nconst ActivityCreator = () => import('@/components/ActivityCreator')\nconst ActivityEditor = () => import('@/components/ActivityEditor')\n\nVue.use(Router)\n\nconst Meta = {\n  logined: false,\n  studengId: '',\n  name: '',\n  isManager: false\n}\n\nexport default new Router({\n  routes: [\n    {\n      path: '/login',\n      name: 'Login',\n      component: Login,\n      meta: Meta\n    },\n    {\n      path: '/activity',\n      component: Activity,\n      children: [\n        {\n          path: '',\n          name: 'ActivityHome',\n          component: ActivityHome,\n          meta: Meta\n        },\n        {\n          path: 'publish',\n          name: 'ActivityCreator',\n          component: ActivityCreator,\n          meta: Meta\n        },\n        {\n          path: ':id/edit',\n          name: 'ActivityEditor',\n          component: ActivityEditor,\n          meta: Meta\n        },\n        {\n          path: ':id',\n          name: 'ActivityDetails',\n          component: ActivityDetails,\n          meta: Meta\n        }\n      ]\n    },\n    {\n      path: '*',\n      redirect: '/login'\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export default {\r\n  departmentList: [\r\n    '编辑部',\r\n    '综合管理部',\r\n    '综合新闻部',\r\n    '外联部',\r\n    '策划推广部',\r\n    '节目部',\r\n    '人力资源部',\r\n    '技术部',\r\n    '视频部',\r\n    '视觉设计部'\r\n  ],\r\n  urls: {\r\n    // front: '/root/back/public',\r\n    front: 'back/public',\r\n    add (str) { return this.front + str },\r\n    init () { return this.add('/api/init') },\r\n    login () { return this.add('/api/login') },\r\n    signout () { return this.add('/api/signout') },\r\n    publishV () { return this.add('/api/manager/publish/volunteer') },\r\n    publishA () { return this.add('/api/manager/publish/award') },\r\n    image (id) { return this.add('/api/publisher/modify/image/' + id) },\r\n    queryA () { return this.add('/api/user/query/activity') },\r\n    queryD (id) { return this.add('/api/manager/query/' + id + '/department') },\r\n    queryU (id) { return this.add('/api/manager/query/' + id + '/userinfo') },\r\n    download (id) { return this.add('/api/manager/download/' + id) },\r\n    register (id) { return this.add('/api/user/register/' + id) },\r\n    unregister (id) { return this.add('/api/user/unregister/' + id) },\r\n    editV (id) { return this.add('/api/publisher/modify/volunteer/' + id) },\r\n    editA (id) { return this.add('/api/publisher/modify/award/' + id) },\r\n    delete (id) { return this.add('/api/publisher/delete/' + id) },\r\n    imageSrc (shortSrc) { return this.add(shortSrc) }\r\n  },\r\n  getCookie (str) {\r\n    var pattern = new RegExp('(?:(?:^|.*;\\\\s*)' + str + '\\\\s*=\\\\s*([^;]*).*$)|^.*$')\r\n    return document.cookie.replace(pattern, '$1')\r\n  },\r\n  removeCookie (str) {\r\n    var now = new Date()\r\n    now.setTime(now.getTime() - 1)\r\n    document.cookie = str + '=;expires=' + now.toUTCString()\r\n  },\r\n  compareDatetime (datetime) {\r\n    var now = new Date()\r\n    var comparison = [\r\n      [datetime.slice(0, 4), now.getFullYear()],\r\n      [datetime.slice(5, 7), now.getMonth() + 1],\r\n      [datetime.slice(8, 10), now.getDate()],\r\n      [datetime.slice(11, 13), now.getHours()],\r\n      [datetime.slice(14, 16), now.getMinutes()],\r\n      [datetime.slice(17, 19), now.getSeconds()]\r\n    ]\r\n    for (let i = 0; i < 6; i++) {\r\n      comparison[i][0] = Number(comparison[i][0])\r\n      if (comparison[i][0] !== comparison[i][1]) {\r\n        return comparison[i][0] - comparison[i][1]\r\n      }\r\n    }\r\n    return 0\r\n  },\r\n  datetimeToInput (datetime) {\r\n    return datetime.replace(/^(\\d{4}-\\d{2}-\\d{2}) (\\d{2}:\\d{2}):\\d{2}$/, '$1T$2')\r\n  },\r\n  inputToDatetime (input) {\r\n    return input.slice(0, 10) + ' ' + input.slice(11) + ':00'\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/global.js","<template>\n  <div id=\"app\">\n    <div id=\"global-bg\"></div>\n    <router-view\n      class=\"main\"\n      v-bind:style=\"{fontSize: appWidth + 'px'}\"\n      v-bind:class=\"{'show': !loading}\"\n      v-on:main-fade-in=\"loading = false\"\n      v-on:main-fade-out=\"loading = true\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data () {\n    return {\n      appWidth: undefined,\n      loading: true\n    }\n  },\n  created () {\n    this.flushSize()\n    window.addEventListener('resize', this.flushSize)\n  },\n  methods: {\n    flushSize () {\n      var width = document.body.clientWidth\n      if (width < 300) {\n        width = 300\n      } else if (width > 450) {\n        width = 450\n      }\n      this.appWidth = width / 1080 * 100\n    }\n  }\n}\n</script>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n  font-family: '微软雅黑';\n}\nhtml {\n  width: 100%;\n  height: 100%;\n}\nbody {\n  width: 100%;\n  height: 100%;\n}\ninput {\n  border: none;\n  outline: none;\n  -webkit-appearance: none;\n}\n#app {\n  position: relative;\n  margin: auto;\n  width: 500px;\n  height: 100%;\n}\n@media screen and (max-width: 500px) {\n  #app {\n    width: 100%;\n  }\n}\n#global-bg {\n  z-index: -1;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: linear-gradient(145deg, #a1dd93, #16a086);\n}\n</style>\n<style scoped>\n.main {\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n.main.show {\n  opacity: 1;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"global-bg\"}}),_vm._v(\" \"),_c('router-view',{staticClass:\"main\",class:{'show': !_vm.loading},style:({fontSize: _vm.appWidth + 'px'}),on:{\"main-fade-in\":function($event){_vm.loading = false},\"main-fade-out\":function($event){_vm.loading = true}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-66af222b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-66af222b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-66af222b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-66af222b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-66af222b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport router from './router'\nimport VueResource from 'vue-resource'\nimport Global from './global'\n\nimport App from './App'\n\nVue.use(VueResource)\nVue.config.productionTip = false\nVue.prototype.$global = Global\n\nrouter.beforeEach((() => {\n  var isChecked = false\n  return (to, from, next) => {\n    if (!isChecked) {\n      isChecked = true\n      Vue.http.post(Global.urls.init()).then(data => {\n        data = data.body\n        if (!(data instanceof Object)) {\n          return Promise.reject('服务器发生错误')\n        } else if (data.err_code) {\n          return Promise.reject(data.err_msg)\n        } else {\n          data = data.data\n          if (data.logined) {\n            to.meta.logined = true\n            to.meta.studentId = data.student_id\n            to.meta.name = data.name\n            // to.meta.isManager = true\n            to.meta.isManager = data.is_manager\n          }\n        }\n        if (to.fullPath === '/login') {\n          if (to.meta.logined) {\n            next({\n              path: '/activity',\n              replace: true\n            })\n          }\n        } else {\n          if (!to.meta.logined) {\n            next({\n              path: '/login',\n              replace: true\n            })\n          } else if (to.fullPath.search(/^\\/activity\\/\\d+\\/edit$/) !== -1) {\n            return Vue.http.post(Global.urls.queryA(), {\n              type: 0,\n              start_id: to.params.id,\n              number: 1\n            })\n          }\n        }\n        return Promise.reject(0)\n      }).then(data => {\n        data = data.body\n        if (!(data instanceof Object)) {\n          return Promise.reject('服务器发生错误')\n        } else if (data.err_code) {\n          return Promise.reject(data.err_msg)\n        } else {\n          data = data.data\n          if (data.activities instanceof Array &&\n            data.activities.length === 1 &&\n            data.activities[0].id === Number(to.params.id)) {\n            let activity = data.activities[0]\n            let timeAccess = false\n            if (activity.type === 0) {\n              timeAccess = Global.compareDatetime(activity.action_time) > 0\n            } else if (activity.type === 1) {\n              timeAccess = Global.compareDatetime(activity.book_time) > 0\n            }\n            if (!(timeAccess && activity.is_publisher)) {\n              return Promise.reject('你没有修改权限')\n            }\n          } else {\n            return Promise.reject('活动不存在')\n          }\n        }\n      }).catch(data => {\n        if (data === 0) {\n        } else if (typeof data === 'string') {\n          alert(data)\n        } else {\n          alert('服务器发生错误')\n          next({\n            path: '/activity/' + to.params.id,\n            replace: true\n          })\n        }\n        next()\n      })\n    } else {\n      next()\n    }\n  }\n})())\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: {App},\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}